// Luscious
// @since v0.0.1
//
// Image/Font Path Function
//
// sass-lint:disable no-css-comments
// ===================================================================


// Images
$info-img: info-log(
	'The `img` function creates an `asset-path` to
	make it easier to insert images in your SASS.
	Type  :  Function
	Params:
	- $file:      Required. Enter the file name including extension in quotes.
	- $base_path: Optional. Defaults to `$img_base_path` set in the config file.
	-             $img_base_path == `#{$img_base_path}`
	Alias:        `image`'
);


@mixin __info_img {
	@debug $info-img;
}


@function img($file, $base_path: $img_base_path) {
	@if $file == "info" { @debug $info-img; }
	@else {
		@return url($base_path + '/' + $file);
	}
}

// Alias
@mixin __info_image {
	@include __info_img;
}

@function image($file) {
	@return img($file);
}

// -------------------------------------

// Fonts
$info-font: info-log(
	'The `font` function creates an `asset-path` to
	make it easier to source fonts in your SASS.
	Type  :  Function
	Params:
	- $file:      Required. Enter the file name and extension from
	-             the `$font_base_path` in quotes.
	- $base_path: Optional. Defaults to `$font_base_path` set in the config file.
	-             $font_base_path == `#{$font_base_path}`'
);


@mixin __info_font {
	@debug $info-font;
}


@function font($file, $base_path: $font_base_path) {
	@if $file == "info" { @debug $info-font; }
	@else {
		@return url($base_path + '/' + $file);
	}
}



// ===================================================================
// Tests
// ===================================================================

// -------------------------------------
// Test img() Mixin
// -------------------------------------
@include describe('img path [function]') {
	@include assert-equal (
		img("test.jpg"),
		url("../images/test.jpg")
	);
	@include true-report {
		@include it('Creates the url file path to your image.') {
			@include assert {
				@include output {
					background-image: img("test.jpg");
				}
				@include expect {
					background-image: url("../images/test.jpg");
				}
			}
		}
	}
}

// -------------------------------------
// Test path() Mixin
// -------------------------------------
@include describe('font path [function]') {
	@include assert-equal (
		font("test.otf"),
		url("../fonts/test.otf")
	);
	@include true-report {
		@include it('Creates the url file path to your font.') {
			@include assert {
				@include output {
					src: font("test.otf");
				}
				@include expect {
					src: url("../fonts/test.otf");
				}
			}
		}
	}
}


